{# Copyright (C) 2015 Hewlett Packard Enterprise Development LP
#  All Rights Reserved.
#
#  Licensed under the Apache License, Version 2.0 (the "License"); you may
#  not use this file except in compliance with the License. You may obtain
#  a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
#  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
#  License for the specific language governing permissions and limitations
#  under the License.
#}{% extends "layout.html" %}
{% block body %}
<h1>OVSDB Transaction Size Benchmark</h1>
<div class="panel panel-primary">
    <div class="panel-heading">
        <h2>Configure Test</h2>
    </div>
    <div class="panel-body">
        <form method="post" action="{{ url_for('ovsdb_transaction_size') }}">
            <div class="form-group">
                <label for="ovsdb-max-size">Maximum Transaction Size</label>
                <input type="number" class="form-control" id="ovsdb-max-size" placeholder="Maximum Transaction Size" min="1000" max="1000000" name="quantity">
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Launch Test</button>
            </div>
        </form>
    </div>
</div>
{% if results %}
<h1>Results of Last Test</h1>
<div class="panel panel-info">
    <div class="panel-heading">
        <h2>One Transaction per Insert</h2>
    </div>
    <div class="panel-body">
        <img src="/plot/multiple-transaction/ovsdb-transaction-size.png">
    </div>
</div>
<div class="panel panel-info">
    <div class="panel-heading">
        <h2>Single Transaction</h2>
    </div>
    <div class="panel-body">
        <img src="/plot/single-transaction/ovsdb-transaction-size.png">
    </div>
</div>
<div class="panel panel-info">
    <div class="panel-heading">
        <h2>OVSDB Server - Memory Usage - Multiple Transaction</h2>
    </div>
    <div class="panel-body">
        <img src="/plot/mtmemory/ovsdb-transaction-size.png">
    </div>
</div>
<div class="panel panel-info">
    <div class="panel-heading">
        <h2>OVSDB Server - Memory Usage - Single Transaction</h2>
    </div>
    <div class="panel-body">
        <img src="/plot/stmemory/ovsdb-transaction-size.png">
    </div>
</div>
<div class="panel panel-info">
    <div class="panel-heading">
        <h2>OVSDB Server - CPU Usage - Multiple Transactions</h2>
    </div>
    <div class="panel-body">
        <img src="/plot/mtcpu/ovsdb-transaction-size.png">
    </div>
</div>
<div class="panel panel-info">
    <div class="panel-heading">
        <h2>OVSDB Server - CPU Usage - Single Transactions</h2>
    </div>
    <div class="panel-body">
        <img src="/plot/stcpu/ovsdb-transaction-size.png">
    </div>
</div>
{% endif%}
{% endblock %}
